@inject NavigationManager NavigationManager

<div class="sidebar">
    <h1>JOURNAL</h1>
    <nav class="d-flex flex-column">
        <a href="/" class="nav-link-custom @GetActiveClass("/")">
            <i class="bi bi-house-door me-2"></i>Home
        </a>
        <a href="/dashboard" class="nav-link-custom @GetActiveClass("/dashboard")">
            <i class="bi bi-graph-up me-2"></i>Dashboard
        </a>
        <a href="/calendar" class="nav-link-custom @GetActiveClass("/calendar")">
            <i class="bi bi-calendar3 me-2"></i>Calendar
        </a>
    </nav>
</div>

<style>
    .sidebar {
        background-color: #151517;
        width: 250px;
        min-height: 100vh;
        padding: 2rem 1.5rem;
    }

    .sidebar h1 {
        text-align: center;
        color: #FFFFFF;
        font-weight: 600;
        margin-bottom: 3rem;
        margin-top: 1rem;
        font-size: 1.75rem;
        letter-spacing: 2px;
    }

    .nav-link-custom {
        color: #999999;
        text-decoration: none;
        padding: 0.875rem 1rem;
        display: flex;
        align-items: center;
        border-radius: 8px;
        margin-bottom: 0.5rem;
        transition: all 0.2s;
        font-weight: 500;
    }

    .nav-link-custom:hover {
        background-color: #2A2A2C;
        color: #FFFFFF;
        transform: translateX(4px);
    }

    .nav-link-custom.active {
        background-color: #2A2A2C;
        color: #FFFFFF;
        border-left: 3px solid #4A90E2;
    }

    .nav-link-custom i {
        font-size: 1.1rem;
    }
</style>

@code {
private string GetActiveClass(string path)
{
var currentPath = NavigationManager.ToBaseRelativePath(NavigationManager.Uri);

if (path == "/" && string.IsNullOrEmpty(currentPath))
return "active";

if (path != "/" && currentPath.StartsWith(path.TrimStart('/')))
return "active";

return "";
}

protected override void OnInitialized()
{
NavigationManager.LocationChanged += (s, e) => StateHasChanged();
}
}